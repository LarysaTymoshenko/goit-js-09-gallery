{"version":3,"sources":["js/data/gallery-img.js","js/app.js"],"names":["preview","original","description","refs","galleryList","document","querySelector","lightbox","overlay","imageEl","BtnEl","createItem","a","map","elem","join","markup","galleryItems","insertAdjacentHTML","addEventListener","onOpenModal","onCloseModal","evt","preventDefault","target","nodeName","classList","add","replaceAtribute","dataset","source","alt","src","e","remove","window","onCloseModalEsc","code"],"mappings":"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","file":"app.c3f9f951.js","sourceRoot":"..","sourcesContent":["// const galleryItems\r\n   export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];","\r\n\r\n\r\n\r\n\r\nimport galleryItems from '../js/data/gallery-img.js';\r\n\r\nconst refs = {\r\n  galleryList: document.querySelector('.js-gallery'),\r\n  lightbox: document.querySelector('.js-lightbox'),\r\n  overlay: document.querySelector('.lightbox__overlay'),\r\n  imageEl: document.querySelector('.lightbox__image'),\r\n  BtnEl: document.querySelector('[data-action=\"close-lightbox\"]')\r\n};\r\n\r\nconst { galleryList, lightbox, overlay, imageEl, BtnEl } = refs;\r\n\r\n//1. Создание  и рендер элементов разметки\r\nfunction createItem(a) {\r\n \r\n  return a.map((elem) => {\r\n    \r\n    const { description, original, preview } = elem;\r\n    \r\n    // console.log(description, original, preview);\r\nreturn `<li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=\"${original}\"\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=\"${preview}\"\r\n      data-source=\"${original}\"\r\n      alt=\"${description}\"\r\n    />\r\n  </a>\r\n</li>`\r\n    \r\n  }).join(\"\");\r\n}\r\nconst markup = createItem(galleryItems);\r\n// console.log(markup);\r\ngalleryList.insertAdjacentHTML(\"afterbegin\", markup);\r\n\r\n// 2. Создание click\r\ngalleryList.addEventListener('click', onOpenModal);\r\nBtnEl.addEventListener('click', onCloseModal);\r\noverlay.addEventListener('click', onCloseModal);\r\n\r\n\r\n  \r\n  //3. работа модального окна\r\nfunction onOpenModal(evt) {\r\n  // console.log(evt);\r\nevt.preventDefault();\r\n    if (evt.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n    lightbox.classList.add('is-open');\r\n  replaceAtribute(evt.target.dataset.source,evt.target.alt);\r\n    \r\n}\r\n\r\nfunction replaceAtribute(src, alt ) {\r\n  imageEl.src = src;\r\n  imageEl.alt = alt;\r\n}\r\n\r\nfunction onCloseModal(e) {\r\n    lightbox.classList.remove('is-open')\r\n    replaceAtribute(\" \", \" \")\r\n};\r\n// 4. Закрытие модалки с помощью \"ESC\"\r\nwindow.addEventListener('keydown', onCloseModalEsc);\r\n\r\nfunction onCloseModalEsc(evt) {\r\n  if (evt.code === 'Escape') {\r\n    onCloseModal()\r\n  };\r\n  \r\n}"]}